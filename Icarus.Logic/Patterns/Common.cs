namespace Icarus.Logic.Patterns
{
    internal static class Common
    {
        public static Pattern GetBuildPattern() => new Pattern(BuildPattern);

        public static Pattern GetSetFarclipPatternAlpha() => new Pattern(SetFarclipPatternAlpha, SetFarclipPatch);

        public static Pattern GetSetFarclipPatternTBC() => new Pattern(SetFarclipPatternTBC, SetFarclipPatch);

        public static Pattern GetCalcThirdPersonPatternAlpha() => new Pattern(CameraPatternAlpha, CameraPatchAlpha);

        public static Pattern GetCalcThirdPersonPatternVanilla() => new Pattern(CameraPatternVanilla, CameraPatchVanilla);

        #region Build

        private static readonly short[] BuildPattern = new short[]
        {
            0x20, 0x28, 0x62, 0x75, 0x69, 0x6C, 0x64, 0x20 // ' (build '
        };

        #endregion Build

        #region Farclip

        private static readonly short[] SetFarclipPatternAlpha = new short[]
        {
            0x74, 0x0F, 0x8B, 0x4D, 0x08, 0x51, 0xE8, -0x1, -0x1, -0x1, -0x1,
            0xB0, 0x01, 0x5D, 0xC2, 0x08, 0x00, 0x33, 0xD2, 0xB9, -0x1, -0x1,
            -0x1, -0x1, 0xE8, -0x1, -0x1, -0x1, -0x1, 0x32, 0xC0, 0x5D, 0xC2,
            0x08, 0x00, 0x90, 0x90, 0x90, 0x55, 0x8B, 0xEC, 0x8B, 0x45, 0x08,
            0x50, 0xE8, -0x1, -0x1, -0x1, -0x1, 0xD9, 0x55, 0x08
        };

        private static readonly short[] SetFarclipPatternTBC = new short[]
        {
            0x74, 0x11, 0x8B, 0x4D, 0x08, 0x51, 0xE8, -0x1, -0x1, 0xFE, 0xFF,
            0xB0, 0x01, 0x8B, 0xE5, 0x5D, 0xC2, 0x08, 0x00
        };

        private static readonly short[] SetFarclipPatch = new short[]
        {
            0x90, 0x90
        };

        #endregion Farclip

        #region Camera

        private static readonly short[] CameraPatternAlpha = new short[]
        {
            0x89, 0x02, 0xD9, 0x5D, 0xF8, 0x8B,
            0x4D, 0xF8, 0xDD, 0xD8, 0x89, 0x4A, 0x04, 0xDD, 0xD8,
            0xD9, 0x45, 0xF0, 0xD8, 0x65, 0xE4, 0xD9, 0x5D, 0xFC,
            0xD9, 0x86, 0xD4, 0x00, 0x00, 0x00, 0x8B, 0x45, 0xFC,
            0xD8, 0x65, 0x08, 0x89, 0x42, 0x08
        };

        private static readonly short[] CameraPatchAlpha = new short[]
        {
            0x90, 0x90, 0xD9, 0x5D, 0xF8, 0x8B,
            0x4D, 0xF8, 0xDD, 0xD8, 0x90, 0x90, 0x90, 0xDD, 0xD8,
            0xD9, 0x45, 0xF0, 0xD8, 0x65, 0xE4, 0xD9, 0x5D, 0xFC,
            0xD9, 0x86, 0xD4, 0x00, 0x00, 0x00, 0x8B, 0x45, 0xFC,
            0xD8, 0x65, 0x08, 0x90, 0x90, 0x90
        };

        private static readonly short[] CameraPatternVanilla = new short[]
        {
            0x8B, -0x1, 0x8D, -0x1, 0x08, 0x89, -0x1, 0x8B, -0x1,
            0x04, 0x89, -0x1, 0x04, 0x8B, 0x40, 0x08, 0x89, -0x1, 0x08
        };

        private static readonly short[] CameraPatchVanilla = new short[]
        {
            0x8B, -0x1, 0x8D, -0x1, 0x08, 0x90, 0x90, 0x8B, -0x1,
            0x04, 0x90, 0x90, 0x90, 0x8B, 0x40, 0x08, 0x90, 0x90, 0x90
        };

        #endregion Camera
    }
}