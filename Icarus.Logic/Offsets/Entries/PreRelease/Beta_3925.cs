using Icarus.Logic.Patterns;

namespace Icarus.Logic.Offsets.Entries
{
    internal class Beta_3925 : IOffset
    {
        public int Build { get; } = 3925;
        public int WorldEnables { get; } = 0xA5670C;
        public int CurWorldFrame { get; } = 0x9A8158;
        public int CameraOffset { get; } = 0x64E0;
        public int CameraFieldOffset { get; } = 8;
        public Pattern CalcThirdPerson { get; } = new Pattern(CameraPattern, CameraPatch);
        public Pattern SetFarclipPattern { get; } = Common.GetSetFarclipPatternAlpha();

        private static readonly short[] CameraPattern = new short[]
        {
            0x89, 0x02, 0xD9, 0x5D, 0xD8, 0x8B,
            0x4D, 0xD8, 0xDD, 0xD8, 0x89, 0x4A, 0x04, 0xDD,
            0xD8, 0xD9, 0x45, 0xE8, 0xD8, 0x65, 0xD0, 0xD9,
            0x5D, 0xDC, 0x8B, 0x45, 0xDC, 0x89, 0x42, 0x08
        };

        private static readonly short[] CameraPatch = new short[]
        {
            0x90, 0x90, 0xD9, 0x5D, 0xD8, 0x8B,
            0x4D, 0xD8, 0xDD, 0xD8, 0x90, 0x90, 0x90, 0xDD,
            0xD8, 0xD9, 0x45, 0xE8, 0xD8, 0x65, 0xD0, 0xD9,
            0x5D, 0xDC, 0x8B, 0x45, 0xDC, 0x90, 0x90, 0x90
        };
    }
}